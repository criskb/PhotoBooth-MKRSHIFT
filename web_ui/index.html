<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Photo Booth UI</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="app">
    <div class="hud">
      <div class="brand brand-card">
        <span class="brand__title">AI PHOTOBOOTH</span>
        <span class="brand__subtitle">
          <span class="brand__subtitle-accent">MKR</span><span class="brand__subtitle-neutral">Shift</span>
        </span>
      </div>
      <div class="status">
        <span class="status__label">Ready</span>
        <span class="status__meta">Select a style, then tap or shake to shoot</span>
      </div>
    </div>

    <video id="camera" autoplay playsinline muted></video>

    <div class="controls">
      <div class="action-row">
        <button class="action">Take Selfie</button>
        <div class="timer-control">
          <button class="timer-toggle" aria-haspopup="true" aria-expanded="false">‚è±Ô∏è 0s</button>
          <div class="timer-menu" role="menu">
            <button class="timer-option" data-delay="0" role="menuitem">0s</button>
            <button class="timer-option" data-delay="3" role="menuitem">3s</button>
            <button class="timer-option" data-delay="5" role="menuitem">5s</button>
            <button class="timer-option" data-delay="10" role="menuitem">10s</button>
          </div>
        </div>
      </div>
      <div class="styles">
        <button class="style">Clay</button>
        <button class="style">Comic</button>
        <button class="style">Oil Paint</button>
        <button class="style">Cyberpunk</button>
        <button class="style">Pixel Art</button>
      </div>
    </div>

    <div class="utility-controls">
      <button class="settings-toggle" aria-label="Settings">‚öôÔ∏è</button>
      <button class="fullscreen-toggle" aria-label="Toggle fullscreen">‚õ∂</button>
    </div>

    <button class="gallery-toggle" aria-label="Open gallery">üñºÔ∏è</button>

    <div class="progress-overlay" aria-live="polite">
      <div class="progress-card">
        <div class="progress__meta">
          <span class="progress__label">Idle</span>
          <span class="progress__value">0%</span>
        </div>
        <div class="progress__bar">
          <span class="progress__fill"></span>
        </div>
        <img class="progress__preview" alt="Latest generated output" />
        <div class="progress__actions">
          <button class="progress-action progress-action--upload" disabled>Upload</button>
          <button class="progress-action progress-action--print" disabled>Print</button>
          <button class="progress-action progress-action--done" disabled>Back to Capture</button>
        </div>
        <div class="progress__qr">
          <span class="progress__qr-label">Upload QR</span>
          <img class="progress__qr-image" alt="QR code for uploaded image" />
        </div>
      </div>
    </div>

    <div class="idle-overlay idle-overlay--hidden" aria-live="polite">
      <div class="idle-overlay__backdrop" aria-hidden="true"></div>
      <div class="idle-overlay__canvas" aria-hidden="true"></div>
      <div class="idle-overlay__copy">
        <p class="idle-overlay__title">Touch to start</p>
        <p class="idle-overlay__subtitle">AI PhotoBooth by MKRShift</p>
      </div>
    </div>

    <div class="settings-modal" role="dialog" aria-modal="true" aria-labelledby="settings-title">
      <div class="settings-card">
        <h2 id="settings-title">Settings</h2>
        <label class="settings-field">
          ComfyUI API Endpoint
          <input class="settings-input settings-input--comfy" type="url" placeholder="http://127.0.0.1:8188" />
        </label>
        <label class="settings-field">
          Camera Orientation
          <select class="settings-input settings-input--orientation">
            <option value="0">0¬∞ (Normal)</option>
            <option value="90">90¬∞</option>
            <option value="180">180¬∞</option>
            <option value="270">270¬∞</option>
          </select>
        </label>
        <label class="settings-field">
          Printer Name
          <input class="settings-input settings-input--printer" type="text" placeholder="Office_Printer_1" />
        </label>
        <label class="settings-field">
          Printer Copies
          <input
            class="settings-input settings-input--printer-copies"
            type="number"
            min="1"
            step="1"
            value="1"
          />
        </label>
        <label class="settings-field">
          Freeimage API Key
          <input class="settings-input settings-input--freeimage" type="text" placeholder="Freeimage API Key" />
        </label>
        <label class="settings-field settings-field--toggle">
          <input class="settings-input settings-input--enabled" type="checkbox" />
          Enable printing
        </label>
        <label class="settings-field settings-field--toggle">
          <input class="settings-input settings-input--watermark" type="checkbox" />
          Add MKRSHIFT watermark on upload/print
        </label>
        <div class="settings-actions">
          <button class="settings-action settings-action--save">Save</button>
          <button class="settings-action settings-action--close">Close</button>
        </div>
        <div class="settings-remote">
          <p class="settings-remote__title">Phone remote shutter</p>
          <p class="settings-remote__text">
            Scan the QR code to open the remote on your phone. Connect to the same Wi-Fi, choose a
            timer, and tap capture to trigger the booth over the WebSocket.
          </p>
          <img class="settings-remote__qr" alt="QR code for the phone remote" />
          <p class="settings-remote__hint">
            Keep the booth screen open while you use the remote.
          </p>
        </div>
        <div class="settings-about">
          <p class="settings-about__title">About this project</p>
          <p class="settings-about__text">
            This project is a complete rewrite based on the collaborative work from
            <a href="https://github.com/tvibitnmkt/PhotoBooth" target="_blank" rel="noreferrer">tvibitnmkt/PhotoBooth</a>
            and
            <a href="https://github.com/ADEFORGE/PhotoBooth" target="_blank" rel="noreferrer">ADEFORGE/PhotoBooth</a>.
          </p>
          <p class="settings-about__text">Made by Cris K B ¬∑ MKRShift</p>
        </div>
      </div>
    </div>

    <div class="gallery-modal" role="dialog" aria-modal="true" aria-labelledby="gallery-title">
      <div class="gallery-card">
        <div class="gallery-header">
          <h2 id="gallery-title">Gallery</h2>
          <button class="gallery-close" aria-label="Close gallery">Close</button>
        </div>
        <div class="gallery-body">
          <div class="gallery-list"></div>
          <div class="gallery-detail">
            <div class="gallery-pair">
              <div class="gallery-panel">
                <span class="gallery-label">Input</span>
                <img class="gallery-image gallery-image--input" alt="Input image" />
              </div>
              <div class="gallery-panel">
                <span class="gallery-label">Output</span>
                <img class="gallery-image gallery-image--output" alt="Output image" />
              </div>
            </div>
            <div class="gallery-actions">
              <button class="gallery-action gallery-action--upload">Upload Selected</button>
              <span class="gallery-upload-status" aria-live="polite"></span>
            </div>
            <div class="gallery-qr">
              <span class="gallery-qr-label">Upload QR</span>
              <img class="gallery-qr-image" alt="QR code for uploaded image" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="countdown-overlay" aria-live="assertive" aria-atomic="true">
      <span class="countdown-value">3</span>
    </div>
    <div class="flash-overlay" aria-hidden="true"></div>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
